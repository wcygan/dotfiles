# Zed Configuration Skill - Summary

**Created:** 2025-11-01
**Type:** Project-local skill (dotfiles repository)
**Status:** ✅ Active

## Purpose

Enables Claude to intelligently configure Zed editor settings, keybindings, language servers, formatters, themes, and AI agents through direct modification of `config/zed/settings.json` and `config/zed/keymap.json`.

## Activation Triggers

The skill activates when user requests contain:

- **Keywords:** zed, editor, settings, keybindings, keymap, LSP, language server, theme, agent, configure
- **Phrases:**
  - "Change Zed theme to..."
  - "Add keybinding for..."
  - "Configure rust-analyzer..."
  - "Set up Prettier for JavaScript"
  - "Enable format on save for Python"

## Configuration Context

**Important:** Your dotfiles repository has symlinked Zed configuration:
- **Source:** `config/zed/` (in dotfiles repo)
- **Target:** `~/.config/zed/` (global Zed config)
- **Effect:** All changes apply globally to Zed installation

## Capabilities

### 1. Settings Management
- Themes (light/dark modes, system-aware)
- Fonts (UI, buffer, weights)
- Editor behavior (autosave, soft wrap, line length)
- Terminal configuration
- Tab display settings

### 2. Language Server Protocol (LSP)
- Configure initialization options
- Multi-server setups per language
- Custom binary paths and arguments
- Inlay hints and code actions
- Enable/disable specific servers

### 3. Language-Specific Configuration
- Per-language tab sizes
- Format on save settings
- Formatter selection (language server or external)
- Language server prioritization
- Custom formatters (Prettier, Black, Ruff, etc.)

### 4. Keybindings
- Context-aware shortcuts (Editor, Terminal, Workspace)
- Key sequences (e.g., `cmd-k cmd-s`)
- Action arguments
- Disable conflicting bindings

### 5. AI Agent Configuration
- External agents (Claude Code, Gemini CLI, custom)
- Agent profiles and default models
- Tool permissions
- Environment variables

## File Structure

```
.claude/skills/zed-config/
├── SKILL.md              # Main skill instructions (loaded when activated)
├── REFERENCE.md          # Advanced configuration patterns
├── README.md             # Skill documentation
├── .skill-summary.md     # This file
└── scripts/
    └── validate-config.sh # JSON validation utility
```

## Tool Restrictions

The skill is restricted to:
- **Read** - Reading configuration files
- **Edit** - Modifying configuration files
- **Bash(cat:*)** - Displaying config contents
- **Bash(jq:*)** - JSON manipulation

This ensures the skill only modifies Zed configuration and doesn't perform unrelated actions.

## Current Configuration State

**Files Managed:**
- `config/zed/settings.json` (140 lines)
- `config/zed/keymap.json` (28 lines)

**Base Keymap:** JetBrains

**Configured Languages:**
- Python (ty + ruff LSP, format on save)
- TypeScript (Deno LSP, disables default TS servers)
- TSX (Deno LSP, disables default TS servers)

**Configured LSP Servers:**
- Deno (enabled for TypeScript/TSX)
- Rust Analyzer (inlay hints, analyzer target dir)
- Ruff (Python linting/formatting)

**Current Theme:**
- Mode: System (follows OS theme)
- Light: One Light
- Dark: Zedokai

**Agent Configuration:**
- Default profile: write
- Default model: Google Gemini 2.5 Pro Experimental
- Always allow tool actions: enabled
- Play sound when done: enabled

## Usage Examples

### Example 1: Change Theme
**User:** "Switch Zed to Tokyo Night dark theme"
**Skill:** Reads settings.json → Edits theme configuration → Validates JSON

### Example 2: Add Keybinding
**User:** "Add cmd-r to rename symbol in editor"
**Skill:** Reads keymap.json → Adds binding with Editor context → Validates JSON

### Example 3: Configure LSP
**User:** "Set up gopls for Go with inlay hints"
**Skill:** Reads settings.json → Adds gopls under lsp section → Configures Go language settings → Validates

### Example 4: External Formatter
**User:** "Use Prettier for JavaScript with format on save"
**Skill:** Reads settings.json → Configures JavaScript language with external formatter → Enables format_on_save

## Validation

The skill includes a validation script:

```bash
.claude/skills/zed-config/scripts/validate-config.sh
```

Checks both settings.json and keymap.json for valid JSON syntax (supports `//` comments).

## Best Practices

1. **Read before editing** - Always inspect current configuration first
2. **Preserve structure** - Maintain JSON formatting and comments
3. **Incremental changes** - One setting at a time for easier troubleshooting
4. **Context-aware keybindings** - Use appropriate context (Editor vs Terminal)
5. **Validate after changes** - Run validation script to check syntax

## Integration with Dotfiles Workflow

Since this is part of the dotfiles repository:

1. Changes to `config/zed/` are git-tracked
2. Modifications can be committed and pushed
3. Symlinks ensure changes apply immediately to Zed
4. Configuration is portable across machines
5. Follows dotfiles incremental development methodology

## Resources

- **Skill Instructions:** [SKILL.md](./SKILL.md)
- **Advanced Patterns:** [REFERENCE.md](./REFERENCE.md)
- **Zed Docs:** https://zed.dev/docs/configuring-zed
- **Key Bindings:** https://zed.dev/docs/key-bindings
- **Language Config:** https://zed.dev/docs/configuring-languages
- **External Agents:** https://zed.dev/docs/ai/external-agents

## Testing the Skill

To test the skill, try these requests:

1. "Show my current Zed theme settings"
2. "Add a keybinding for cmd-shift-f to format document"
3. "Configure Python to use black formatter"
4. "Change my Zed theme to Ayu Dark"
5. "Set up inlay hints for Rust"

The skill should activate automatically and handle the configuration changes.

---

**Note:** This skill respects your dotfiles workflow and incremental development practices. All changes are atomic, reversible via git, and validated before completion.
